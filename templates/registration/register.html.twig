{% extends 'base.html.twig' %}

{% block title %}Creer un compte{% endblock %}

{% block body %}
<main class="container my-3">
    <div class="row">
        <div class="col-md-6>">
            {% for flash_error in app.flashes('verify_email_error') %}
                <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
            {% endfor %}

                <h1 class="text-danger mt-5 text-center">Créer un compte</h1>
                <hr class="featurette-divider mt-5">

            {{ form_start(registrationForm) }}
                <fieldset>
                    <div class="form group row">
                    <legend>Mon identité</legend>
                        {{ form_row(registrationForm.lastname) }}
                        {{ form_row(registrationForm.firstname) }}
                        {{ form_row(registrationForm.email) }}                        
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Mes coordonnées</legend>
                        {{ form_row(registrationForm.address) }}
                        {{ form_row(registrationForm.city) }}
                        {{ form_row(registrationForm.zipcode) }}
                </fieldset>
                 {% set messages = app.flashes %}

            {% for message in app.flashes('success') %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}
                        
            
                        {{ form_row(registrationForm.plainPassword, {
                            label: 'Password'
                        }) }}
                        {{ form_row(registrationForm.agreeTerms) }}
                        

                        <button type="submit" class="btn btn-lg btn-danger my-5">Valider</button>
                        <p class="text-center text-white">Vous avez déjà un compte ? <a class="nav-link text-danger" href="{{ path('app_login') }}">Connectez-vous</a></p>
                        <hr class="featurette-divider mt-5">
                        {{ form_end(registrationForm) }}

                        {% for message in app.flashes('success') %}
                            <div class="alert alert-success">
                        {{ message }}
                </div>
            {% endfor %}
        </div> 
    </div>
</main>
{% endblock %}
    


